import pandas as pd
import plotly.graph_objects as go

# Load the dataset
data_path = 'path_to_your_downloaded_file/Walmart_Store_sales.csv'  
df = pd.read_csv(data_path)

# Display the first few rows
print(df.head())
# Convert the 'Date' column to datetime format
df['Date'] = pd.to_datetime(df['Date'])

# Group data by Date and sum the Weekly Sales
sales_data = df.groupby('Date')['Weekly_Sales'].sum().reset_index()

# Extract X and Y values
x = sales_data['Date']
y = sales_data['Weekly_Sales']

# Create a Plotly figure
fig = go.Figure()

# Add trace for the line plot
fig.add_trace(go.Scatter(
    x=x,
    y=y,
    mode='lines+markers',  # Lines and markers
    name='Weekly Sales',
    line=dict(color='blue', width=2, dash='solid'),  # Line customization
    marker=dict(symbol='circle', size=5, color='red')  # Marker customization
))

# Customize layout
fig.update_layout(
    title='Walmart Weekly Sales Over Time',  # Title
    xaxis=dict(
        title='Date',
        showgrid=True,
        gridcolor='lightgrey'
    ),
    yaxis=dict(
        title='Total Weekly Sales',
        showgrid=True,
        gridcolor='lightgrey'
    ),
    plot_bgcolor='rgba(0,0,0,0)',  # Transparent background
    showlegend=True,  # Display legend
    legend=dict(x=0, y=1.0)  # Legend position
)

# Display the plot
fig.show()

